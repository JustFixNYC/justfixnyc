<section class="row" data-ng-controller="SettingsController">
	<div class="page-header">
		<h1 class="col-md-12 text-center">Change your password</h1>
	</div>
	<div class="col-xs-12 col-md-12">
		<form name="passwordCreate" data-ng-submit="changeUserPassword()" class="signin" autocomplete="off">
			<fieldset>
				<div class="form-group">
					<label for="currentPassword">Current Password</label>
					<input type="password" id="currentPassword" name="currentPassword" class="form-control" data-ng-model="passwordDetails.currentPassword" placeholder="Current Password">
				</div>


				<div class="form-group" ng-class="{ 'has-error' : passwordCreate.$submitted && passwordCreate.pw.$invalid }">
					<label class="control-label" for="pw">New Password <em>(must be at least 6 characters)</em></label>
					<input class="form-control" type="password" placeholder="Create Password" id="pw1" name="pw" ng-model="passwordDetails.newPassword" ng-minlength="6" required>
					<div ng-show="passwordCreate.$submitted || passwordCreate.pw.$touched">
						<p ng-show="passwordCreate.pw.$error.required" class="text-danger">Please create a password.</p>
						<p ng-show="passwordCreate.pw.$error.minlength" class="text-danger">Password should be at least 6 characters.</p>
					</div>
				</div>

				<div class="form-group pw-check-field" ng-class="{ 'has-error' : passwordCreate.$submitted && passwordCreate.pw2.$invalid }">
					<input class="form-control" type="password" placeholder="Confirm Password" ng-model="passwordDetails.verifyPassword" name="pw2" pw-check="pw1" ng-minlength="6" required>
					<div ng-show="passwordCreate.$submitted || passwordCreate.pw2.$touched">
						<p ng-show="passwordCreate.pw2.$error.required" class="text-danger">Please enter your password again.</p>
						<p ng-show="passwordCreate.pw2.$error.pwmatch" class="text-danger">These passwords don't match!</p>
					</div>
				</div>

				<div data-ng-show="success" class="text-center text-success">
					<strong>Password Changed Successfully</strong>
				</div>
				<div data-ng-show="error" class="text-center text-danger">
					<strong data-ng-bind="error"></strong>
				</div>

				<div class="form-group">
					<a ui-sref="settings.profile">
						<button class="btn btn-default pull-left col-xs-4">Cancel</button>
					</a>
					<input type="submit" class="btn btn-large btn-primary pull-right col-xs-7 col-md-4" value="Save Password">
				</div>
			</fieldset>
		</form>
	</div>
</section>